<section class="py-12 sm:py-16">
  <div class="container mx-auto px-4">
    <div
      class="lg:col-gap-12 xl:col-gap-16 mt-8 grid grid-cols-1 gap-12 lg:mt-12 lg:grid-cols-5 lg:gap-16"
    >
      <div class="lg:col-span-3 lg:row-end-1">
        <div class="lg:flex lg:items-start">
          <div class="lg:order-2 lg:ml-5">
            <div class="max-w-xl overflow-hidden rounded-lg max-h-[500px]">
              <img
                class="h-full w-full max-w-full object-cover"
                [src]="product.images[selectedProductImageIndex]"
                alt=""
              />
            </div>
          </div>

          <div class="mt-2 w-full lg:order-1 lg:w-32 lg:flex-shrink-0">
            <div class="flex flex-row items-start lg:flex-col">
              @for (item of product.images; track $index) {
              <button
                type="button"
                class="flex-0 aspect-square mb-3 max-lg:me-3 h-20 overflow-hidden rounded-lg border-2 border-gray-900 text-center"
                (click)="changeImageIndex($index)"
              >
                <img class="h-full w-full object-cover" [src]="item" alt="" />
              </button>
              }
            </div>
          </div>
        </div>
      </div>

      <div class="lg:col-span-2 lg:row-span-2 lg:row-end-2">
        <h1
          class="text-xl font-semibold text-gray-900 sm:text-2xl dark:text-white"
        >
          {{ product.name }}
        </h1>

        <div class="mt-5 flex items-center">
          <p
            class="text-2xl font-extrabold text-gray-900 sm:text-2xl dark:text-white"
          >
            <span>{{ product.discountedPrice | currency : "INR" }}</span>
            <span class="line-through ms-2 text-base">{{
              product.actualPrice | currency : "INR"
            }}</span>
          </p>
        </div>

        <div
          class="mt-10 flex flex-col items-center space-y-4 border-t border-b py-4 sm:flex-row sm:space-y-0"
        >
          <button
            class="flex items-center justify-center py-2.5 px-5 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 me-4"
            (click)="addToCart(product._id)"
          >
            <svg
              class="w-5 h-5 -ms-2 me-2"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              viewBox="0 0 24 24"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 4h1.5L8 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm.75-3H7.5M11 7H6.312M17 4v6m-3-3h6"
              />
            </svg>
            Add to cart
          </button>

          <button
            type="button"
            class="text-white mt-4 sm:mt-0 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 flex items-center justify-center"
          >
            Buy Now
          </button>
        </div>
        <h3
          class="text-xl font-semibold text-gray-900 sm:text-lg dark:text-white mt-5"
        >
          Description
        </h3>
        <p class="mt-2 mb-6 text-gray-500 dark:text-gray-400">
          {{ product.description }}
        </p>
      </div>
    </div>
  </div>
</section>
